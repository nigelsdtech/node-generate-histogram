# node-generate-histogram
Pass in a csvfile with histogram data and this will generate an ascii-histogram 

## Version
1.0.0


## Installation

This isn't available on npm yet, so you'll just have to use github

```sh
$ npm install "nigelsdtech/node-generate-histogram"
```


## Usage

There are two functions,
* Generate a basic histogram
* Calculate lag (time difference) between two time columns and show a chart of that lag


You need to set the following environment variables:

**DATA_FILE** - Path to the csv file containing the data

**CHART_TYPE** - Either "simple" for a basic histogram or "lag" for a lag chart.

```sh
$ export DATA_FILE="PATH_TO_YOUR_FILE"
$ export CHART_TYPE="simple"
$ npm start

```




### Generating a simple chart

Create a csv file with two columns; the variable and the frequency.

```
bananas,6
apples,1
oranges,24
figs,4
```

Then run as follows:
```sh
$ export DATA_FILE='basicSample.csv'; export CHART_TYPE='simple'; npm start

  bananas | ###############                                              | 6
   apples | ###                                                          | 1
  oranges | ############################################################ | 24
     figs | ##########                                                   | 4
```



### Generating a lag chart

Create a csv file with two columns; the start time and end time (it needs to be in YYYY-mm-dd HH:MM:SS format):

```
2016-01-01 17:57:20,2016-01-01 17:57:32
2016-01-01 17:57:21,2016-01-01 17:57:32
2016-01-01 17:57:21,2016-01-01 17:57:37
2016-01-01 17:57:22,2016-01-01 17:57:37
2016-01-01 17:57:23,2016-01-01 17:57:37
2016-01-01 17:57:24,2016-01-01 17:57:37
2016-01-01 17:57:25,2016-01-01 17:57:37
2016-01-01 17:57:26,2016-01-01 17:57:37
2016-01-01 17:57:26,2016-01-01 17:57:40
```

Then run as follows:
```sh
$ export DATA_FILE='lagSample.csv'; export CHART_TYPE='lag'; npm start

  2016-01-01 17:57:20 | #############################################                | 12
  2016-01-01 17:57:21 | ############################################################ | 16
  2016-01-01 17:57:22 | ########################################################     | 15
  2016-01-01 17:57:23 | #####################################################        | 14
  2016-01-01 17:57:24 | #################################################            | 13
  2016-01-01 17:57:25 | #############################################                | 12
  2016-01-01 17:57:26 | #####################################################        | 14

```




### Examples

See examples/basicHistogram.sh and examples/lagHistogram.sh to get started. You can run it with the following.

```sh
user@machine:~/useful/node-generate-histogram (master u=)$ cd examples/
user@machine:~/useful/node-generate-histogram/examples (master u=)$ sh basicHistogram.sh 
  17:00:00 | #                                                            | 15
  17:00:01 |                                                              | 5
  17:00:02 | ######                                                       | 83
  17:00:03 | #####################                                        | 288
  17:00:04 | ##                                                           | 23
  17:00:06 | #######                                                      | 96
  17:00:07 | #                                                            | 14
  17:00:08 | #                                                            | 14
  17:00:09 | ##                                                           | 29
  17:00:10 | ####                                                         | 56
  17:00:11 | #####                                                        | 70
  17:00:12 | #######                                                      | 102
  17:00:14 | #####                                                        | 69
  17:00:15 | #######                                                      | 101
  17:00:16 | ######                                                       | 81
  17:00:17 | ##########                                                   | 145
  17:00:19 | #######                                                      | 97
  17:00:20 | #                                                            | 16
  17:00:22 | ########                                                     | 118
  17:00:24 | ###########                                                  | 148
  17:00:25 | ##                                                           | 30
  17:00:26 | #                                                            | 7
  17:00:27 | ###                                                          | 38
  17:00:28 | ##                                                           | 32
  17:00:29 | ###                                                          | 41
  17:00:30 | #                                                            | 12
  17:00:32 | ##                                                           | 31
  17:00:33 | ###############                                              | 207
  17:00:35 | ####                                                         | 59
  17:00:36 | #####                                                        | 63
  17:00:37 | ####                                                         | 54
  17:00:39 | ######                                                       | 77
  17:00:40 | ############                                                 | 173
  17:00:41 | ##############################                               | 420
  17:00:42 | ####                                                         | 61
  17:00:43 | ################                                             | 228
  17:00:44 | ###############################                              | 429
  17:00:45 | ############                                                 | 167
  17:00:47 | ###################                                          | 271
  17:00:48 | ###########                                                  | 148
  17:00:49 | ################                                             | 222
  17:00:52 | ##############                                               | 191
  17:00:53 | ############                                                 | 173
  17:00:54 | #####################                                        | 294
  17:00:55 | #######                                                      | 98
  17:00:57 | ############################################################ | 836
  17:00:58 | #################                                            | 233
  17:00:59 | #####                                                        | 63
  17:01:02 | #################################                            | 454
  17:01:03 | ##############################################               | 645
  17:01:05 | #######################                                      | 323
  17:01:07 | #####################################                        | 512
  17:01:08 | ####################                                         | 278
  17:01:09 | #################                                            | 234
  17:01:10 | ##########                                                   | 137
  17:01:11 | ###########                                                  | 150
  17:01:12 | #######                                                      | 102
  17:01:13 | ##############                                               | 196
  17:01:14 | ##########################                                   | 358
  17:01:17 | #############                                                | 175
  17:01:20 | ##################################                           | 471
  17:01:21 | #################################                            | 455
  17:01:22 | ###################################                          | 486
  17:01:24 | #######################                                      | 325
  17:01:25 | ####                                                         | 49
  17:01:28 | ######                                                       | 80
  17:01:29 | ##########                                                   | 141
  17:01:30 | #                                                            | 11
  17:01:31 | #                                                            | 17
  17:01:32 | ###                                                          | 44
  17:01:34 | ############################                                 | 388
  17:01:35 | ####                                                         | 61
  17:01:36 | #####                                                        | 73
  17:01:37 | ###                                                          | 41
  17:01:38 | #####                                                        | 64
  17:01:39 | #######                                                      | 103
  17:01:40 | ##                                                           | 34
  17:01:41 | ######                                                       | 77
  17:01:42 | ############                                                 | 173
  17:01:43 | #################                                            | 242
  17:01:44 | ##################################                           | 474
  17:01:46 | ##############                                               | 201
  17:01:47 | ###################                                          | 271
  17:01:48 | #######################                                      | 319
  17:01:49 | ##############                                               | 199
  17:01:50 | ##########                                                   | 134
  17:01:51 | ########                                                     | 114
  17:01:52 | ####################                                         | 281
  17:01:53 | ###                                                          | 43
  17:01:57 | #############################################                | 629

user@machine:~/useful/node-generate-histogram/examples (master u=)$
```
